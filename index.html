<!DOCTYPE html>
<html lang="en">
   <head>
	  <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
      <meta name="Nelson" content="PFE Assignment">
	  <meta http-equiv="Access-Control-Allow-Origin" content="*">
     
       <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>

      <title>NODEMCU Controller</title>

     <style>
		.footer {
  		position: fixed;
  		left: 0;
  		bottom: 0;
  		width: 100%;
  		color: white;
  		text-align: center;
		}
	</style>
	<!-- referencing from https://iotmonk.com/lessons/controlling-esp12e-nodemcu-led-website-using-thingspeak-anywhere-worldpart-2/  -->
  	</head>
      <body bgcolor="#907D8B">
   <center>
		<h1 style="font-family: Helvetica;color: black;">NODEMCU Controller</h1>
		<h5 style="font-family: Helvetica;color: black;">Programming for Engineers Use</h5><br>
	</center>
   
   <div class="center">
	<div align="center" class="form">
       <form action="" method="get">
			  <input type="text" id="ip" class="ip" placeholder="Thingspeak Write API Key"></input>
			  <br><br>
              <button type="button" id="D1-on" class="button button1" >ON LM35</button>
			  <button type="button" id="D1-off" class="button button3" >OFF LM 35</button>
			  <br>
        </form>
		<br><br>
	 </div>
	</div>
	
	<footer class="footer">
		<center>
			<h4 style="font-family: Helvetica;color: white;">&copy; 2020 | <a href="https://github.com/mocha234">BHM</a></h4>
		</center>
	</footer>


    </body>
    <script>
		document.getElementById('D1-on').addEventListener('click', function() {
				var ip = document.getElementById('ip').value;
				var url = "http://api.thingspeak.com/update?api_key="+ ip + "&field1=1"
				$.getJSON(url, function(data) {
					console.log(data);
				});
		});
		
		document.getElementById('D1-off').addEventListener('click', function() {
				var ip = document.getElementById('ip').value;
				var url = "http://api.thingspeak.com/update?api_key="+ ip + "&field1=0"
				$.getJSON(url, function(data) {
					console.log(data);
				});
		});
			
	</script>
</html>
